<!DOCTYPE html>
<html lang="es">
<head>
<!-- CHARSET Y VIEWPORT (ya los ten√©s) -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- SEO B√ÅSICO -->
<meta name="description" content="Instructora de Shibari, fot√≥grafa y creadora de espacios. Clases, sesiones privadas, producciones y comunidad.">
<meta name="keywords" content="shibari, kinbaku, cuerdas, clases, talleres, fotograf√≠a, performances, Argentina">
<meta name="author" content="KITSUNE">
<meta name="robots" content="index, follow">

<!-- CANONICAL (evitar contenido duplicado) -->
<link rel="canonical" href="https://kitsune-shibari.art/">

<!-- OPEN GRAPH (Facebook, WhatsApp, etc.) -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://kitsune-shibari.art/">
<meta property="og:title" content="KITSUNE | Disciplina ¬∑ Movimiento ¬∑ Comunidad">
<meta property="og:description" content="Instructora de Shibari, fot√≥grafa y creadora de espacios.">
<meta property="og:image" content="https://kitsune-shibari.art/img/og-image.jpg">
<meta property="og:locale" content="es_AR">

<!-- TWITTER CARDS -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="KITSUNE">
<meta name="twitter:description" content="Instructora de Shibari, fot√≥grafa y creadora de espacios.">
<meta name="twitter:image" content="https://kitsune-shibari.art/img/og-image.jpg">

<!-- FAVICON (ya lo ten√©s) -->
<link rel="icon" type="image/x-icon" href="img/favicon-in.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <title data-i18n="galeria.meta.title">Galer√≠a | KITSUNE</title>
    <!-- CAMBIO IMPORTANTE: Usar CSS local en lugar del CDN para evitar conflictos -->
    <link rel="stylesheet" href="css/styles.css" />
    <!-- Estilos adicionales para el modal mejorado -->
    <style>
        /* Estilos para las flechas de navegaci√≥n del modal */
        .modal-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 20px;
            cursor: pointer;
            font-size: 24px;
            z-index: 1001;
            transition: background 0.3s;
        }
        .modal-nav:hover {
            background: rgba(0, 0, 0, 0.8);
        }
        .modal-nav.prev { left: 20px; }
        .modal-nav.next { right: 20px; }
        
        /* Hacer que las im√°genes del slider sean clickeables */
        .gallery-slider {
            cursor: pointer;
        }
        .slide {
            cursor: pointer;
        }
        
        /* Contador de im√°genes en el modal */
        .modal-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            background: rgba(0, 0, 0, 0.5);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>

    <header class="header">
        <a href="index.html" class="logo">KITSUNE</a>
        
        <div class="lang-switcher">
            <div class="lang-current">
                <span class="lang-flag">üá¶üá∑</span>
            </div>
            <div class="lang-dropdown">
                <div class="lang-option" data-lang="es"><span class="lang-flag">üá¶üá∑</span><span>ES</span></div>
                <div class="lang-option" data-lang="en"><span class="lang-flag">üá¨üáß</span><span>EN</span></div>
                <div class="lang-option" data-lang="pt"><span class="lang-flag">üáßüá∑</span><span>PT</span></div>
                <div class="lang-option" data-lang="ja"><span class="lang-flag">üáØüáµ</span><span>Êó•Êú¨Ë™û</span></div>
                <div class="lang-option" data-lang="zh"><span class="lang-flag">üá®üá≥</span><span>‰∏≠Êñá</span></div>
            </div>
        </div>

        <button class="menu-toggle" id="menuBtn" aria-label="Abrir men√∫" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </header>

    <div class="drawer-overlay" id="overlay"></div>
    
    <nav class="drawer" id="drawer" aria-hidden="true">
        <ul class="drawer-nav">
            <li><a href="index.html#caminos" data-i18n="nav.caminos">Caminos</a></li>
            <li><a href="agenda.html" data-i18n="nav.agenda">Agenda</a></li>
            <li><a href="galeria.html" data-i18n="nav.galeria">Galer√≠a</a></li>
            <li><a href="tienda.html" data-i18n="nav.tienda">Tienda</a></li>
            <li><a href="bio.html" data-i18n="nav.bio">Bio</a></li>
            <li><a href="contacto.html" data-i18n="nav.contacto">Contacto</a></li>
            <li><a href="https://www.patreon.com/cw/KitsuneProducciones" target="_blank" rel="noopener" data-i18n="nav.patreon">Patreon ‚Üí</a></li>
        </ul>
    </nav>

        <main class="gallery-page">
        <h1 class="gallery-title" data-i18n="galeria.title">Galer√≠a</h1>
        <p class="gallery-subtitle" data-i18n="galeria.subtitle">Sesiones, performances y producciones</p>

        <!-- Galer√≠a 1: Kitsession #1 - Bizarrope -->
        <article class="gallery-item" data-gallery="1">
            <div class="gallery-visual">
                <div class="gallery-slider" data-open-modal>
                    <div class="slide active" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-2/1.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-2/2.jpg')"></div>
                    <div class="slide">
    <video autoplay muted loop playsinline style="width: 100%; height: 100%; object-fit: cover;">
        <source src="https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-2/3.mp4" type="video/mp4">
    </video>
</div>

                </div>
                <button class="slider-arrow prev" aria-label="Anterior">‚Üê</button>
                <button class="slider-arrow next" aria-label="Siguiente">‚Üí</button>
                <div class="slide-counter">1 / 3</div>
            </div>
            
            <div class="gallery-info">
                <h2 class="gallery-item-title" data-open-modal data-i18n="galeria.sesiones.0.titulo">Kitsession #1 - Bizarrope</h2>
                <p class="gallery-item-desc" data-i18n="galeria.sesiones.0.desc">A veces (siempre) el shibari nos ofrece la posibilidad de jugar y en lo l√∫dico podemos dejarnos interpretar lo que sentimos de manera genuina. Es s√≥lo cuesti√≥n de estar presentes.</p>
                <div class="gallery-links">
                    <a href="https://www.patreon.com/cw/KitsuneProducciones" class="gallery-link" target="_blank" rel="noopener" data-i18n="galeria.ver_sesion">Ver sesi√≥n completa ‚Üí PROXIMAMENTE</a>
                </div>
            </div>
        </article>

        <!-- Galer√≠a 2: Kitsession #2 - Sol y Aire -->
        <article class="gallery-item" data-gallery="2">
            <div class="gallery-visual">
                <div class="gallery-slider" data-open-modal>
                    <div class="slide active" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/1.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/2.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/3.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/4.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/5.jpg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-1/6.jpg')"></div>
                </div>
                <button class="slider-arrow prev" aria-label="Anterior">‚Üê</button>
                <button class="slider-arrow next" aria-label="Siguiente">‚Üí</button>
                <div class="slide-counter">1 / 6</div>
            </div>
            
            <div class="gallery-info">
                <h2 class="gallery-item-title" data-open-modal data-i18n="galeria.sesiones.1.titulo">Kitsession #2 - Sol y Aire</h2>
                <p class="gallery-item-desc" data-i18n="galeria.sesiones.1.desc">El aire libre, la luz del sol y la primavera pueden ser el contexto ideal para experimentar la conexi√≥n con lo sagrado de la naturaleza y entre nosotras, dejando que las cuerdas sean canal.</p>
                <div class="gallery-links">
                    <a href="https://www.patreon.com/cw/KitsuneProducciones" class="gallery-link" target="_blank" rel="noopener" data-i18n="galeria.ver_sesion">Ver sesi√≥n completa ‚Üí PROXIMAMENTE</a>
                </div>
            </div>
        </article>
<!-- Galer√≠a 2: Kitsession #3 - A dos veinte -->
        <article class="gallery-item" data-gallery="3">
            <div class="gallery-visual">
                <div class="gallery-slider" data-open-modal>
                    <div class="slide active" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-3/1.jpeg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-3/2.jpeg')"></div>
                    <div class="slide" style="background-image: url('https://cdn.jsdelivr.net/gh/kitsune-shibari/kitsune.github.io@main/img/set-3/3.jpeg')"></div>
                </div>
                <button class="slider-arrow prev" aria-label="Anterior">‚Üê</button>
                <button class="slider-arrow next" aria-label="Siguiente">‚Üí</button>
                <div class="slide-counter">1 / 3</div>
            </div>
            
            <div class="gallery-info">
                <h2 class="gallery-item-title" data-open-modal data-i18n="galeria.sesiones.2.titulo">Kitsession #3 - A dos veinte</h2>
                <p class="gallery-item-desc" data-i18n="galeria.sesiones.2.desc">Atar sintiendo la electricidad en el aire</p>
                <div class="gallery-links">
                    <a href="https://www.patreon.com/cw/KitsuneProducciones" class="gallery-link" target="_blank" rel="noopener" data-i18n="galeria.ver_sesion">Ver sesi√≥n completa ‚Üí PROXIMAMENTE</a>
                </div>
            </div>
        </article>
    </main>

    <!-- MODAL MEJORADO CON NAVEGACI√ìN -->
    <div class="gallery-modal" id="galleryModal" aria-hidden="true">
        <div class="modal-overlay" data-close-modal></div>
        <button class="modal-close" data-close-modal aria-label="Cerrar">√ó</button>
        
        <!-- Flechas de navegaci√≥n a√±adidas -->
        <button class="modal-nav prev" aria-label="Imagen anterior">‚Üê</button>
        <button class="modal-nav next" aria-label="Imagen siguiente">‚Üí</button>
        
        <div class="modal-content">
            <div class="modal-image" style="background-image: url('')"></div>
            <div class="modal-gradient">
                <h3 class="modal-title" data-i18n="galeria.modal.titulo"></h3>
                <p class="modal-desc" data-i18n="galeria.modal.desc"></p>
            </div>
        </div>
        
        <!-- Contador de im√°genes en el modal -->
        <div class="modal-counter">1 / 6</div>
        
        <div class="modal-actions">
            <a href="https://www.patreon.com/cw/KitsuneProducciones" class="modal-link patreon" target="_blank" rel="noopener" data-i18n="galeria.modal.patreon">Ver sesi√≥n completa</a>
        </div>
    </div>

    <section class="contact" id="contacto">
        <h2 data-i18n="contacto.title">Contacto</h2>
        <div class="social-grid">
            <a href="https://instagram.com/kink.tsune" class="social-link" target="_blank" rel="noopener">Instagram</a>
            <a href="https://www.patreon.com/cw/KitsuneProducciones" class="social-link" target="_blank" rel="noopener">Patreon</a>
            <a href="https://discord.com" class="social-link" target="_blank" rel="noopener">Discord</a>
            <a href="https://t.me/cba1919" class="social-link" target="_blank" rel="noopener">Telegram</a>
            <a href="mailto:info@kitsune-shibari.art" class="social-link">Email</a>
        </div>
    </section>

    <footer class="footer">
        <p data-i18n="footer.copyright">&copy; 2026 KITSUNE. Todos los derechos reservados.</p>
    </footer>

    <!-- CAMBIO IMPORTANTE: Usar scripts locales en lugar del CDN -->
    <script src="js/main.js"></script>
    <script src="js/i18n.js"></script>
    
    <!-- Script adicional para la funcionalidad mejorada del modal -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const modal = document.getElementById('galleryModal');
    const modalImage = modal.querySelector('.modal-image');
    const modalTitle = modal.querySelector('.modal-title');
    const modalDesc = modal.querySelector('.modal-desc');
    const modalCounter = modal.querySelector('.modal-counter');
    
    let currentModalGallery = null;
    let currentModalSlide = 0;
    let modalSlides = [];
    
    function openModal(galleryItem, slideIndex = 0) {
        const slides = galleryItem.querySelectorAll('.slide');
        const titleElement = galleryItem.querySelector('.gallery-item-title');
        const descElement = galleryItem.querySelector('.gallery-item-desc');
        
        modalTitle.textContent = titleElement ? titleElement.textContent : '';
        modalDesc.textContent = descElement ? descElement.textContent : '';
        
        currentModalGallery = galleryItem;
        modalSlides = Array.from(slides);
        currentModalSlide = slideIndex;
        
        updateModalContent();
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
    
    function updateModalContent() {
        if (modalSlides.length === 0) return;
        
        const activeSlide = modalSlides[currentModalSlide];
        const video = activeSlide.querySelector('video');
        
        modalImage.innerHTML = '';
        
        if (video) {
            const clonedVideo = video.cloneNode(true);
            clonedVideo.style.cssText = 'width:100%;height:100%;object-fit:contain;';
            clonedVideo.autoplay = true;
            clonedVideo.muted = true;
            modalImage.appendChild(clonedVideo);
            modalImage.style.backgroundImage = '';
        } else {
            modalImage.style.backgroundImage = activeSlide.style.backgroundImage;
        }
        
        modalCounter.textContent = `${currentModalSlide + 1} / ${modalSlides.length}`;
    }
    
    function goPrev(e) {
        e.preventDefault();
        e.stopPropagation();
        if (modalSlides.length === 0) return;
        currentModalSlide = (currentModalSlide - 1 + modalSlides.length) % modalSlides.length;
        updateModalContent();
    }
    
    function goNext(e) {
        e.preventDefault();
        e.stopPropagation();
        if (modalSlides.length === 0) return;
        currentModalSlide = (currentModalSlide + 1) % modalSlides.length;
        updateModalContent();
    }
    
    // Event listeners galer√≠as
    document.querySelectorAll('.gallery-item').forEach(item => {
        const slider = item.querySelector('.gallery-slider');
        const title = item.querySelector('.gallery-item-title');
        const slides = item.querySelectorAll('.slide');
        
        if (slider) {
            slider.addEventListener('click', function(e) {
                if (e.target.closest('.slider-arrow')) return;
                
                let activeIndex = 0;
                slides.forEach((slide, idx) => {
                    if (slide.classList.contains('active')) activeIndex = idx;
                });
                openModal(item, activeIndex);
            });
        }
        
        if (title) {
            title.addEventListener('click', function() {
                let activeIndex = 0;
                slides.forEach((slide, idx) => {
                    if (slide.classList.contains('active')) activeIndex = idx;
                });
                openModal(item, activeIndex);
            });
        }
    });
    
    // Navegaci√≥n modal - click y touch
    const prevBtn = modal.querySelector('.modal-nav.prev');
    const nextBtn = modal.querySelector('.modal-nav.next');
    
    prevBtn.addEventListener('click', goPrev);
    nextBtn.addEventListener('click', goNext);
    prevBtn.addEventListener('touchstart', goPrev, {passive: false});
    nextBtn.addEventListener('touchstart', goNext, {passive: false});
    
    // Cerrar modal
    function closeModal() {
        modal.classList.remove('active');
        document.body.style.overflow = '';
        currentModalGallery = null;
        modalSlides = [];
        modalImage.innerHTML = '';
    }
    
    modal.querySelectorAll('[data-close-modal]').forEach(el => {
        el.addEventListener('click', closeModal);
    });
    
    // Teclado
    document.addEventListener('keydown', (e) => {
        if (!modal.classList.contains('active')) return;
        if (e.key === 'Escape') closeModal();
        else if (e.key === 'ArrowLeft') goPrev(e);
        else if (e.key === 'ArrowRight') goNext(e);
    });
});
</script>
</body>

</html>